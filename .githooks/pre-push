#!/usr/bin/env bash
# QuectoClaw pre-push hook
# Enable: git config core.hooksPath .githooks
# Skip:   git push --no-verify

set -euo pipefail

echo "üîç Running pre-push checks..."

echo "  ‚ñ∏ cargo fmt --check"
cargo fmt -- --check || { echo "‚ùå Format check failed. Run: cargo fmt"; exit 1; }

echo "  ‚ñ∏ cargo clippy"
cargo clippy --all-targets -- -D warnings || { echo "‚ùå Clippy failed."; exit 1; }

echo "  ‚ñ∏ cargo test"
cargo test || { echo "‚ùå Tests failed."; exit 1; }

echo "‚úÖ All pre-push checks passed."
